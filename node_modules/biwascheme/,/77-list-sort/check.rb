def check(&block)
  10000.times do
    ary = Array.new(rand(10)){ rand(12345).to_s }
    # 安定なソートを行う
    sorted = ary.map.with_index{|v, i| [v, i]}.sort_by{|v, i| [v, i]}.map{|v, i| v}
    ary = block.call(ary.dup)
    if ary.map(&:object_id) != sorted.map(&:object_id)
      p ary: ary
      p sorted: sorted
    else
      print "."
    end
  end
  p :ok
end
